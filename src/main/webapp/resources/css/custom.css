/* DM 안읽음 배지 */
.badge.dm-badge-unread{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:26px; height:20px; line-height:20px; padding:0 8px;
  border-radius:9999px;
  background:#f15b5b; color:#fff; font-weight:700; font-size:12px;
  font-variant-numeric: tabular-nums; letter-spacing:.2px; border:0;
}
/* 템플릿 색 클래스가 덮어써도 유지 */
.badge.dm-badge-unread.bg-primary,
.badge.dm-badge-unread.bg-danger-subtle,
.badge.dm-badge-unread.text-danger{
  background:#f15b5b !important;
  color:#fff !important;
}

.avatar-img-fix { width:32px; height:32px; object-fit:cover; display:block; }


/* ============ 공통 ============ */
#koj-chat-fab, #koj-chat-panel { z-index: 2147483647; }
/* 떠있는 버튼: 원형 + 회색 */
#koj-chat-fab{
  position: fixed; right: 20px; bottom: 20px;
  width: 80px; height: 80px;               /* 정사각형 → 원형 기준 */
  border-radius: 50%;                       /* 원형 만들기 */
  background: #6c757d;                      /* 회색(secondary) */
  color: #fff;                              /* 아이콘 색(흰색) */
  border: 0; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  box-shadow: 0 8px 24px rgba(0,0,0,.18);
  z-index: 2147483647;                      /* 다른 요소 위로 */
}
#koj-chat-fab .mdi{ font-size: 26px; line-height: 1; } /* 아이콘 크기 */
#koj-chat-fab:hover{ background:#5c636a; }             /* 살짝 진한 회색 */
#koj-chat-panel{
  position: fixed; right: 20px; bottom: 80px; width: 360px; max-width: calc(100% - 40px);
  background:#fff; border-radius: 0px; box-shadow: 0 16px 40px rgba(0,0,0,.2);
  display: flex; flex-direction: column; overflow: hidden;
  border:1px solid #e9ecef;
}
#koj-chat-panel.hide{ display:none; }

.chat-head{
  height: 48px; display:flex; align-items:center; justify-content:space-between;
  padding:0 12px; background:#f8f9fa; border-bottom:1px solid #e9ecef;
}
#koj-chat-close{ border:none; background:transparent; font-size:18px; cursor:pointer; }

.chat-log{
  height: 360px; overflow:auto; padding: 12px; background:#fafafa;
}
.chat-input{
  display:flex; gap:6px; padding: 10px; border-top:1px solid #e9ecef; background:#fff;
}
.chat-input input{ flex:1; padding:8px 10px; border:1px solid #dee2e6; border-radius:8px; }
.chat-input button{ padding:8px 12px; border:none; background:#0d6efd; color:#fff; border-radius:8px; cursor:pointer; }

/* ============ 말풍선 ============ */
.row{ display:flex; margin: 6px 0; }
.row.user{ justify-content: flex-end; }
.row.bot{  justify-content: flex-start; }

.bubble{
  max-width: 75%;
  padding: 8px 10px; border-radius: 14px;
  background:#e9ecef; color:#111; line-height:1.25;
  word-break: break-word; white-space: pre-wrap;
}
.row.user .bubble{ background:#0d6efd; color:#fff; }
.time{ align-self: flex-end; font-size:11px; color:#868e96; margin: 0 6px; min-width: 58px; }

/* 하이퍼링크 리스트가 들어오는 경우 보기 좋게 */
.bubble ul{ padding-left:18px; margin: 6px 0 0; }
.bubble a{ color:inherit; text-decoration: underline; }


/* ============ 날씨 ============ */
/* ============ 날씨 (반응형) ============ */

/* 기본(아주 좁은 폭: sm) */
#weather-body .icon { width:48px; height:131px; object-fit:contain; }
#weather-body .temp-row{ display:flex; align-items:baseline; gap:6px; }
#weather-body .temp{
  font-family:'Noto Sans KR', Arial, 'Apple SD Gothic Neo', system-ui, sans-serif !important;
  font-weight:700; font-size:1.75rem; line-height:1.1; padding-top:0;
}
#weather-body .city{ font-size:.9rem; color:#6c757d; }
#weather-body .desc{ display:block; font-size:1rem; margin-top:.25rem; }
#weather-body .meta{ display:block; font-size:.9rem; color:#6c757d; margin-top:.25rem; }

/* 중간 폭: md */
#weather-body.weather-md .icon { width:72px; height:131px; }
#weather-body.weather-md .temp{ font-size:2.4rem; }
#weather-body.weather-md .desc{ display:block; font-size:1rem; margin-top:.25rem; }
#weather-body.weather-md .meta{ display:block; font-size:.9rem; color:#6c757d; margin-top:.25rem; }

/* 넓은 폭: lg */
#weather-body.weather-lg .icon { width:96px; height:96px; }
#weather-body.weather-lg .temp{ font-size:3rem; }
#weather-body.weather-lg .city{ font-size:1.1rem; font-weight:600; }
#weather-body.weather-lg .desc{ display:block; font-size:1.05rem; margin-top:.25rem; }
#weather-body.weather-lg .meta{ display:block; font-size:.95rem; color:#6c757d; margin-top:.25rem; }



/* 제목 옆 '7일 기준'을 작고 옅게 표시 */
.title-inline-note{
  font-size: .60rem;      /* 작게 */
  color: #6c757d;         /* 옅은 회색 */
  line-height: 1;         /* 줄간격 줄여 중앙 정렬 느낌 */
  font-weight: 500;
}

/* ================== [PATCH] 도넛 공통 크기 변수 ==================
   예약 & 근태 도넛 컨테이너 공통(둘 다 .resv-donut 사용) */
/* 공통: 그래프 크기/두께 변수 */
.resv-donut{
  position: relative;             /* 중앙 오버레이 기준 */
  --donut-height: 60px;           /* 지름 */
  --donut-hole:   80%;            /* 구멍 비율(작을수록 링 두꺼움) */
  --donut-font:   20px;           /* 예약 중앙 숫자 폰트 */
  height: var(--donut-height);
}

/* 반응형 (선택) */
@media (max-width: 576px){
  .resv-donut{
    --donut-height: 60px;
    --donut-font:   18px;
  }
}
/* ============================================================== */

/* ApexCharts 캔버스 중앙 정렬(예약/근태 공통) */
#resv-donuts .apexcharts-canvas,
#att-donuts  .apexcharts-canvas{
  margin: 0 auto !important;
}

/* 문서관리 리스트: [아이콘] [라벨] [개수] */
.doc-rows{ border-top:1px solid #e9ecef; }
.doc-rows .d-row{
  display:grid;
  grid-template-columns: 24px 1fr auto; /* 아이콘 / 라벨 / 개수 */
  gap:10px; align-items:center;
  padding:1px 2px;
}
.doc-rows .d-row + .d-row{ border-top:1px solid #f1f3f5; }
.doc-rows .d-icon i{ font-size:18px; color:#6c757d; }
.doc-rows .d-label{ color:#212529; }
.doc-rows .d-count{ font-weight:700; }
.doc-rows .d-row:hover{ background:#f8f9fa; cursor:pointer; }

html[data-bs-theme="dark"] .doc-rows{ border-top-color: var(--bs-border-color); }
html[data-bs-theme="dark"] .doc-rows .d-row + .d-row{ border-top-color: var(--bs-border-color); }

/*======================================휴가 관리===================*/
/* 휴가 카드: 칩 2개 + 타일 1개 스타일 */
#card-vac .badge { border-radius: 8px; }           /* 연차 기준 뱃지 모서리 */

.vac-chip{
  border:1px solid #dee2e6; border-radius:12px;
  padding:8px 10px; min-width:84px; background: var(--bs-body-bg);
  transition: background .15s ease;
}
.vac-chip:hover{ background:#f8f9fa; }
.vac-chip-icon{ font-size:22px; color:#6c757d; line-height:1; }
.vac-chip-label{ font-size:.9rem; color:#6c757d; }
.vac-chip-value{ font-size:1rem; font-weight:700; margin-top:0px; }

.vac-tile{
  border:1px solid #dee2e6; border-radius:12px;
  padding:4px 12px; min-width:120px;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  transition: background .15s ease;
}
.vac-tile:hover{ background:#f8f9fa; }
.vac-tile-icon{ font-size:22px; color:#6c757d; line-height:1; }
.vac-tile-label{ font-size:.95rem; margin-top:4px; }
.vac-tile-value{ font-size:1rem; font-weight:700; margin-top:1px; }

/* 다크 테마 경계선 보정 */
html[data-bs-theme="dark"] .vac-chip,
html[data-bs-theme="dark"] .vac-tile{ border-color: var(--bs-border-color); }

/* 휴가 카드: 3칸이 카드 폭을 넘으면 줄바꿈 허용 */
#vac-rows{
  display: flex;          /* 기존과 동일 */
  gap: 12px;              /* 간격 */
  flex-wrap: wrap;        /* ★ 넘치면 다음 줄로 */
  align-items: stretch;   /* 높이는 맞춰줌(원하면 flex-start로) */
}

/* 자식들이 폭을 '3등분' 하며 필요 시 축소 가능하도록 */
#vac-rows > .vac-chip,
#vac-rows > .vac-tile{
  flex: 1 1 0;            /* ★ 줄어들 수 있게(basis 0) */
  min-width: 0;           /* ★ 기존 min-width(84/120px) 무효화해서 넘침 방지 */
}

/* 좁은 화면에서는 세로로 1칸씩 쌓기(선택) */
@media (max-width: 576px){
  #vac-rows > .vac-chip,
  #vac-rows > .vac-tile{
    flex: 1 1 100%;       /* 한 줄에 하나씩 */
  }
}

/* ======================= 근태 카드(도넛) 보조 스타일 =======================
   → 공통 변수(--donut-height)로만 크기를 관리합니다. */

/* 근태: 중앙 텍스트(출근/퇴근/외근) 오버레이 */
#att-donuts .resv-donut > .att-center{
  position: absolute; inset: 0;
  display: flex !important;       /* 겹침 금지용 강제 표시 */
  align-items: center; justify-content: center;
  pointer-events: none;
  font-weight: 700;
  font-size: .95rem;
  color: var(--bs-secondary-color, #6c757d);
}

/* ApexCharts 캔버스 중앙 정렬(공통) */
#resv-donuts .apexcharts-canvas,
#att-donuts  .apexcharts-canvas{
  margin: 0 auto !important;
}

/* 다크테마 보정(중앙 라벨 사용 시) */
html[data-bs-theme="dark"] #card-att .att-center-label{
  background: var(--bs-body-bg);
  border-color: var(--bs-border-color);
}

/* 1) 근태 카드 안쪽 바닥 패딩 줄이기 (기본 16px → 8px 정도) */
#card-att .card-body{ padding-bottom: 22px; }

/* 2) 도넛 아래 '찍힌 시간'의 위/아래 여백 최소화 */
#att-in-time, #att-out-time, #att-field-time{
  display:block;
  margin-top: 2px;     /* 도넛과의 간격 */
  margin-bottom: 0;    /* 아래쪽 여백 제거 */
  line-height: 1.15;   /* 숫자 줄간격도 살짝 촘촘하게 */
}

/* ======================================================================= */

/* ===== 시청률 카드 ===== */

.rating-list{
  list-style: none; padding: 0; margin: 0;
  border-top: 1px solid #e9ecef;
}
.rating-list li{
  display: grid;
  grid-template-columns: 14px 1fr auto;   /* 색점 / 제목 / 값 */
  gap: 10px; align-items: center;
  padding: 6px 4px;
}
.rating-list li + li{ border-top: 1px solid #f1f3f5; }
.rating-list .dot{
  width: 10px; height: 10px; border-radius: 9999px; display: inline-block;
}
.rating-list .name{
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
  color: #212529;
}
.rating-list .val{ font-weight: 700; color: #111; }

#rating-list.rating-2col{
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  column-gap: 12px;
  row-gap: 7px;
}

/* 아이템 모양 */
#rating-list.rating-2col .legend-item{
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 4px 0;
  border-top: 1px solid #f1f3f5;
}
html[data-bs-theme="dark"] #rating-list.rating-2col .legend-item{
  border-top-color: var(--bs-border-color);
}
#rating-list .legend-left{ display:flex; align-items:center; gap:8px; min-width:0; }
#rating-list .legend-dot{ width:10px; height:10px; border-radius:50%; flex:0 0 auto; }
#rating-list .legend-name{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

/* 다크 테마 보정 */
html[data-bs-theme="dark"] .rating-list{
  border-top-color: var(--bs-border-color);
}
html[data-bs-theme="dark"] .rating-list li + li{
  border-top-color: var(--bs-border-color);
}
/* 리스트와 카드 하단 여백 최소화 */
#rating-list{ margin-top:6px; margin-bottom:0; line-height:1.15; }

/* 시청률 카드 바닥 패딩 줄이기 (id는 실제 카드 id로 변경) */
#card-rating .card-body{ padding-bottom:18px; }



/* ===== 일정(Agenda) 리스트: [뱃지] [제목] [날짜] [시간] ===== */
.agenda-rows{ border-top:1px solid #e9ecef; }
.agenda-rows .a-row{
  display:grid;
  grid-template-columns: auto 1fr auto auto; /* 뱃지 / 제목 / 날짜 / 시간 */
  gap:10px; align-items:center;
  padding:6px 4px;
}
.agenda-rows .a-row + .a-row{ border-top:1px solid #f1f3f5; }

.agenda-rows .a-badge .badge{ font-weight:600; }
.agenda-rows .a-title{ color:#212529; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.agenda-rows .a-date, .agenda-rows .a-time{ color:#6c757d; font-size:.7rem; white-space:nowrap; }

/* 다크 테마 보정 */
html[data-bs-theme="dark"] .agenda-rows{ border-top-color: var(--bs-border-color); }
html[data-bs-theme="dark"] .agenda-rows .a-row + .a-row{ border-top-color: var(--bs-border-color); }


/* ===== 공지사항 리스트: [뱃지] [제목] [날짜] [시간] ===== */
.notice-rows{ border-top:1px solid #e9ecef; }
.notice-rows .n-row{
  display:grid;
  grid-template-columns: auto 1fr auto auto; /* 뱃지 / 제목 / 날짜 / 시간 */
  gap:10px; align-items:center;
  padding:6px 4px;
  text-decoration: none; color: inherit;
}
.notice-rows .n-row + .n-row{ border-top:1px solid #f1f3f5; }
.notice-rows .n-row:hover{ background:#f8f9fa; }

.notice-rows .n-badge .badge{ font-weight:700; }
.notice-rows .n-title{
  color:#212529; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
}
.notice-rows .n-date, .notice-rows .n-time{
  color:#6c757d; font-size:.7rem; white-space:nowrap;
}

/* 다크 테마 보정 */
html[data-bs-theme="dark"] .notice-rows{ border-top-color: var(--bs-border-color); }
html[data-bs-theme="dark"] .notice-rows .n-row + .n-row{ border-top-color: var(--bs-border-color); }


/* ===== 긴급 공지 티커 ===== */
#urgent-ticker{
  /* fixed 해제 */
  position: relative;
  left:auto; right:auto; bottom:auto;

  background:#f8d7da; color:#842029;
  border-top:1px solid #f1aeb5;
  padding:8px 48px 8px 12px; font-weight:600;
  margin-top:12px;          /* 영상 카드와 간격 */
  border-radius:6px;        /* 선택 */
}
#urgent-ticker.hide{ display:none; }

#urgent-ticker .ticker-viewport{ overflow:hidden; white-space:nowrap; }
#urgent-ticker .ticker-track{ display:inline-block; will-change:transform; }
#urgent-ticker.paused .ticker-track{ animation-play-state: paused; }

#urgent-ticker .item{ display:inline-block; margin-right:48px; color:inherit; text-decoration:none; }
#urgent-ticker .item:hover{ text-decoration:underline; }
#urgent-ticker .ticker-close{
  position:absolute; right:10px; top:50%; transform:translateY(-50%);
  border:0; background:transparent; color:inherit; font-size:20px; line-height:1; opacity:.7; cursor:pointer;
}

@keyframes ticker-ltr{
  0%   { transform: translateX(-100%); }
  100% { transform: translateX(100%);  }
}

html[data-bs-theme="dark"] #urgent-ticker{
  background: #2b171a; border-top-color:#6b3138; color:#ffdce0;
}